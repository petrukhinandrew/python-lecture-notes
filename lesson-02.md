# Занятие 2. 27.10.2022

*Замечание:* все кусочки кода рекомендуется запускать у себя в REPL python-файлах и проверять, что и как работает!

## Циклы: while, for

### Цикл `while`

Когда мы пишем условие, оно проверяется один раз и код выполняется дальше: 

```python
условие = True
if условие == True:
    # выполни этот код
```

А если мы хотим выполнять некоторый код, пока условие верно? В таком случае нам пригодится цикл `while`

```python
условие = True
while условие == True:
    # выполняется, пока условие == True
```

Посмотрим на примере. Пусть мы хотим напечатать цифры от 1 до 5:

```python
# Хотим напечатать "1 2 3 4 5 "
i = 1 
while i != 5:
    print(i, end=" ")
    i += 1
# Сейчас мы напечатали "1 2 3 4 ", но мы хотели "1 2 3 4 5 "!

# Хороший вариант #1
i = 1 
while i != 6:
    print(i, end=" ")
    i += 1

# Хороший вариант #2
i = 1 
while i <= 5: # <6
    print(i, end=" ")
    i += 1

# Хороший вариант #3
i = 0 
while i != 5: # <6
    i += 1
    print(i, end=" ")
```

### Цикл `for`

Теперь посмотрим на ещё одну конструкцию цикла.

```python
# Заранее объявлять переменную не нужно!
# range == диапазон
# range(0, 10) == 0, 1, 2, ..., 9
# range(0, 10) == [0, 10)
a = 0
b = 10
for i in range(a, b):
    print(i, end=" ")
# Напечатает "0, 1, 2, 3, 4, 5, 6, 7, 8, 9 "
```

Для примера решим задачу, которую решали циклом `while` еще раз:

```python
for i in range(1, 6):
    print(i, end=" ")
# А цикл while требовал на две строчки больше!
```

Получается, цикл `for` - это такая арифметическая прогрессия. Но у прогрессии мы можем задать шаг, например, 2 или 3, или 100500. `for` так тоже умеет! Просто по умолчанию его шаг - 1.

```python
step = 2
for i in range(1, 10, step):
    print(i, end=" ")
# Напечатает "1 3 5 7 9 "

for i in range(2, 11, step):
    print(i, end=" ")
# Напечатает 2 4 6 8 10

# Шаг 100500 тоже можно, правда!
for i in range(0, 100500 * 5 + 1, 100500):
    print(i // 100500, " ->", i)
# Напечатает
# 0  -> 0
# 1  -> 100500
# 2  -> 201000
# 3  -> 301500
# 4  -> 402000
# 5  -> 502500
```

## Еще немного о строках

Часто нам нужно знать длину строки или элемент, который стоит в строке на `i-ой` позиции. Посмотрим, как это сделать:

```python
name = "User"
print(len(name)) # 4
print(name[2]) # "e"
print(name[0]) # "U"
```
Заметим, что элементы нумеруются с 0, это называется *0-индексация*. Но в python пошли дальше и придумали *обратную индексацию*, то есть индекс `-1` - это последний элемент строки:

```python
print(name[-1]) # "r" == name[len(name) - 1]
print(name[-2]) # "e"
print(name[-len(name)]) # "U"
```
На всякий случай уточним следующее: внутри `[]` может быть хоть число, хоть переменная, хоть выражение, главное, чтобы результатом было целое число! (Ну правда же странно было бы, что такое "элемент строки с индексом 1.7")

Попробуем объединить наши знания о строках и цикле `while`

```python
name = "Андрей"
name_len = len(name)
i = 0
while i < len(name):
    print(name[i], end=" ")
    i += 1
# Напечатает "А н д р е й "

print(name[len(name) - 1]) # "й"
```

## Списки

Мотивация: хотим объединить данные в набор, для удобства

Например, нам нужен вот такой список:

- 123
- "Hello"
- 3.14

В python мы можем создать его вот так:

```python
my_list = [123, "Hello", 3.14]
```

Мы уже посмотрели на длину и элемент строки, для списков это будет работать в точности так же!

```python
my_list = [123, "Hello", 3.14]
print(my_list[0]) # 123
print(my_list[len(my_list) - 1]) # 3.14

my_real_str = "User"
my_str = ["U", "s", "e", "r"]
print(my_real_str[1] == my_str[1]) # True
```
## Функции списков

А если нужно добавлять что-то в список уже после того, как мы его создали? Воспользуемся `append` - он добавляет элемент *в конец* списка!

```python
my_list = [] # Еще можно написать my_list = list(), получится то же самое
my_list.append(123) # my_list == [123]
my_list.append("It's my list!") # my_list == [123, "It's my list!"]
print(my_list) # [123, "It's my list!"]
for i in range(1, 10):
    my_list.append(i)
print(my_list) # [123, "It's my list!", 1, 2, 3, 4, 5, 6, 7, 8, 9]
```

В качестве упражнения попробуем сделать из строки список из символов этой строки. Например `"Hello" -> ["H", "e", "l", "l", "o"]`

```python
name = input() # Например, ввели "User"
i = 0
name_chars = []
while i < len(name):
    name_chars.append(name[i])
    i += 1
print(name) # User
print(name_chars) # ["U", "s", "e", "r"]
```

А если нам нужно удалить какой-то элемент из списка? Тут пригодится `pop` - он удаляет элемент в списке и *возвращает его*

```python
my_list = [1, 2, 3, 4, 5, 6]

my_list.pop()
print(my_list) # [1, 2, 3, 4, 5]

x = my_list.pop()
print(x) # 5
print(my_list) # [1, 2, 3, 4]

# Если pop передать индекс в качестве аргумента, он удалит не последний элемент списка, но элемент с нужным индексом
x = my_list.pop(0)
print(x) # 1
print(my_list) # [2, 3, 4]

x = my_list.pop(1)
print(x) # 3
print(my_list) # [2, 4]
```

Удалять из середины списка мы научились, а как вставить туда что-то? `append` вот не умеет. В таком случае нужен `insert`

```python
my_list = [1, 2, 3]
print(my_list) # [1, 2, 3]

my_list.insert(1, 5)
print(my_list) # [1, 5, 2, 3]

new_index = 2
value_to_insert = 10
my_list.insert(new_index, value_to_insert)
print(my_list) # [1, 5, 10, 2, 3]
```

Иными словами, `my_list.insert(i, v)` == **вставь `v` в список `my_list` так, чтобы его индекс оказался `i`**. Или еще об этом можно думать так: мы вставляем `v` в `my_list` *перед* индексом `i`.

## Списки и цикл `for`

Мы умеем перебирать циклом `for` числа. А если нам нужно перебирать элементы строки? Оказывается, цикл `for` может и так!

```python
strochka = "strochka"
for elem in strochka:
    print(elem, end=" ")
# Напечатает "s t r o c h k a "
```

А то же самое со списком? Почему бы и нет!

```python
mylist = [123, "strochka", 3.14]
for elem in mylist:
    print(elem, end=" ")
# Напечатает "123 strochka 3.14 "
```

## Бонус! Шифр Цезаря

На занятии мы начали писать свою программу, которая кодировала бы слова шифром Цезаря с произвольным сдвигом. У нее пока есть недоработки - она умеем шифровать только слова из маленьких букв и без пробелов (но скоро мы и это сможем побороть)

Вот код, который делает то, что нужно! Попробуйте запустить и протестировать его, вдруг туда закрался баг!

```python
name = input("Введите имя для шифрованиия: ")
alphabet = "абвгдеёжзийклмнопрстуфхцчшщъыьэюя"
d = int(input('Введите величину сдвига: '))
d %= len(alphabet)

for letter in name:
    new_letter_id = 0
    for i in range(0, len(alphabet)):
        if alphabet[i] == letter:
            new_letter_id = i

    new_letter_id += d
    new_letter_id %= len(alphabet) # new_letter_id = new_letter_id % len(alphabet)
    print(alphabet[new_letter_id], end="")
print()        
```

Спасибо ребятам, которые помогали дописывать этот код и избегать баги совместимости python и русского языка